<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<!-- always required -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<!-- needed for sequence diagrams -->
<script type="text/javascript" src='http://talentappstore.github.io/tas-des-static/js/raphael-min.js'></script>
<script type="text/javascript" src='http://talentappstore.github.io/tas-des-static/js/underscore-min.js'></script>
<script type="text/javascript" src='http://talentappstore.github.io/tas-des-static/js/sequence-diagram-min.js'></script>
<script type="text/javascript" src='http://talentappstore.github.io/tas-des-static/js/sequence-diagram-wrapper.js'></script>

<!-- needed for includes -->
<script type="text/javascript" src='http://talentappstore.github.io/tas-des-static/js/clientInclude.js'></script>

<!-- needed for table of contents -->
<script type="text/javascript" src='http://talentappstore.github.io/tas-des-static/js/tocify.js'></script>

<!-- always required -->
<link rel='stylesheet' href='http://talentappstore.github.io/tas-des-static/css/des.css' type='text/css' media='all' />


<title>Apply for opening - simple</title>
</head>
<body>

<div id="toc"></div>


<h1>Design notes on candidate edit</h1>

<pre>
      candidate and application **attachmentPatches** notes:
    
      If the candidateAttachmentRule for the given type has allowMultiple == false, then performing
      an "add" of one attachment (like frodo.pdf) will implicitly perform a "remove" of all other existing attachments
      for the attachment type (though there should be only one or zero, unless allowMultiple was changed from true to false).
    
      If allowMultiple == true, then multiple attachments with different fileNames can be added.
    
      In either case, if an "add" is performed, and there is already an attachment with the same name, then the "add"
      acts as a "replace", i.e. there can only ever be a single attachment per type with any given fileName.

      All uploaded files are run through standard security tests:
      - extension matches actual file type
      - virus check
      - etc.

      **resume** notes:

      If a resume element is passed then any existing resume will be replaced by the contents of the resume element. If null, the existing
      resume will be removed.

      All files are run through standard security tests (see attachments).
      
      **applications** notes:
      
      All openings are checked that they are active, but no check is done of the "open to internal" ruiles on the opening vs. the candidate's own
      state. That sort of hyperdetail gets in the way of sending special candidate direct links for them to apply (e.g. after an opening
      has closed, or to allow a special external applicant through to an internal opening).

      **roles** notes:
      
      When used by a candidate to maintain their own information (i.e. the API is called with an OAuth token on behalf
      of a principal of type "candidate"), roles cannot be passed. We don't want the candidate themselves deciding that
      they have role==internal, since being an internal candidate is a trusted position and is only allowed subject
      to the tenant's policies. Its not something a candidate decides for themselves.

      So instead, the POST /candidates API implementation must look into the TAS session and check for role==internal in there,
      and use that when a candidate is created.
                     
      Producer notes:
      The producer will likely verify the edit by:
      - calling POST /candidates/{E}/{N}/editSpecs/fetches using the passed in profile, to fetch the amended profile and the input model 
      - compare the passed in profile to the amended profile and fail if not identical (i.e. the consumer failed to use the amended profile)
      - test that the provided candidate face data, merged into any existing candidate data, completely satisfies the input model
</pre>



<script>
$(document).ready(function() {

	renderSequenceDiagrams();
	renderClientIncludes();
	renderTOC();
});
</script>


</body>
</html>